<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:vm="clr-namespace:AppQLNV_DL.ViewModels"
             x:Class="AppQLNV_DL.Views.EmployeeSettingsPage"
             x:DataType="vm:EmployeeSettingsViewModel"
             Title="CÃ i Ä‘áº·t há»‡ thá»‘ng"
             BackgroundColor="#F5F6FA">

    <Grid RowDefinitions="*, Auto" Padding="20">

        <ScrollView Grid.Row="0">
            <VerticalStackLayout Spacing="25">

                <!-- PHáº¦N 1: TÃ€I KHOáº¢N -->
                <VerticalStackLayout Spacing="10">
                    <Label Text="TÃ€I KHOáº¢N" 
                           FontSize="13" 
                           FontAttributes="Bold" 
                           TextColor="#7F8C8D" 
                           Margin="5,0"/>

                    <Border StrokeShape="RoundRectangle 12" 
                            StrokeThickness="0" 
                            BackgroundColor="White">
                        <Border.Shadow>
                            <Shadow Brush="Black" Offset="0,2" Radius="8" Opacity="0.05"/>
                        </Border.Shadow>

                        <VerticalStackLayout>
                            <!-- DÃ²ng Äá»•i máº­t kháº©u -->
                            <Grid ColumnDefinitions="45, *, Auto" Padding="15" ColumnSpacing="5">
                                <Label Text="ðŸ”‘" FontSize="20" VerticalOptions="Center" HorizontalOptions="Center"/>
                                <Label Grid.Column="1" 
                                       Text="Äá»•i máº­t kháº©u" 
                                       VerticalOptions="Center" 
                                       FontSize="15" 
                                       TextColor="#2D3436"/>
                                <Label Grid.Column="2" 
                                       Text="â¯" 
                                       TextColor="#BDC3C7" 
                                       VerticalOptions="Center"
                                       Margin="0,0,5,0"/>
                                <Grid.GestureRecognizers>
                                    <TapGestureRecognizer Command="{Binding GoToChangePasswordCommand}"/>
                                </Grid.GestureRecognizers>
                            </Grid>

                            <!-- ÄÆ°á»ng káº» phÃ¢n cÃ¡ch -->
                            <BoxView HeightRequest="0.5" 
                                     Color="#F0F0F0" 
                                     Margin="50,0,0,0"/>

                            <!-- DÃ²ng ThÃ´ng tin cÃ¡ nhÃ¢n -->
                            <Grid ColumnDefinitions="45, *, Auto" Padding="15" ColumnSpacing="5">
                                <Label Text="ðŸ‘¤" FontSize="20" VerticalOptions="Center" HorizontalOptions="Center"/>
                                <Label Grid.Column="1" 
                                       Text="ThÃ´ng tin cÃ¡ nhÃ¢n" 
                                       VerticalOptions="Center" 
                                       FontSize="15" 
                                       TextColor="#2D3436"/>
                                <Label Grid.Column="2" 
                                       Text="â¯" 
                                       TextColor="#BDC3C7" 
                                       VerticalOptions="Center"
                                       Margin="0,0,5,0"/>
                                <Grid.GestureRecognizers>
                                    <TapGestureRecognizer Command="{Binding GoToProfileCommand}"/>
                                </Grid.GestureRecognizers>
                            </Grid>
                        </VerticalStackLayout>
                    </Border>
                </VerticalStackLayout>

                <!-- PHáº¦N 2: TÃ™Y CHá»ˆNH -->
                <VerticalStackLayout Spacing="10">
                    <Label Text="TÃ™Y CHá»ˆNH" 
                           FontSize="13" 
                           FontAttributes="Bold" 
                           TextColor="#7F8C8D" 
                           Margin="5,0"/>

                    <Border StrokeShape="RoundRectangle 12" 
                            StrokeThickness="0" 
                            BackgroundColor="White" 
                            Padding="15">
                        <Border.Shadow>
                            <Shadow Brush="Black" Offset="0,2" Radius="8" Opacity="0.05"/>
                        </Border.Shadow>

                        <Grid ColumnDefinitions="45, *, Auto" ColumnSpacing="5">
                            <Label Text="ðŸŒ™" FontSize="20" VerticalOptions="Center" HorizontalOptions="Center"/>
                            <VerticalStackLayout Grid.Column="1" VerticalOptions="Center" Spacing="0">
                                <Label Text="Cháº¿ Ä‘á»™ tá»‘i" FontSize="15" TextColor="#2D3436"/>
                                <Label Text="TÃ­nh nÄƒng Ä‘ang phÃ¡t triá»ƒn" FontSize="11" TextColor="#95A5A6"/>
                            </VerticalStackLayout>
                            <Switch Grid.Column="2" 
                                    IsToggled="{Binding IsDarkModeEnabled}" 
                                    OnColor="RoyalBlue"
                                    VerticalOptions="Center"/>
                        </Grid>
                    </Border>
                </VerticalStackLayout>

            </VerticalStackLayout>
        </ScrollView>

        <!-- NÃšT ÄÄ‚NG XUáº¤T -->
        <Button Grid.Row="1"
                Text="ÄÄƒng xuáº¥t"
                FontAttributes="Bold"
                BackgroundColor="White"
                TextColor="#E74C3C"
                BorderColor="#E74C3C"
                BorderWidth="1.5"
                CornerRadius="12"
                HeightRequest="55"
                Command="{Binding LogoutCommand}"
                HorizontalOptions="Fill" 
                VerticalOptions="End" 
                Margin="0,10,0,0">
            <Button.Shadow>
                <Shadow Brush="#E74C3C" Offset="0,2" Radius="5" Opacity="0.1"/>
            </Button.Shadow>
        </Button>

    </Grid>
</ContentPage>